<div *ngIf="url != ''">
  <!-- <iframe [src]="urlSafe" allowfullscreen></iframe> -->

  <h1>Pliki</h1>
  <div>
    <div *ngFor="let tempFile of classes.files">
      <p>{{ tempFile.fileName }}</p>
      <button
        class="btn btn-primary"
        (click)="downloadFile(tempFile.lessonFileId, tempFile.fileName)"
      >
        Pobierz
      </button>
    </div>
  </div>
</div>

<iframe
  id="videoIframe"
  width="424"
  height="240"
  [src]="videoUrl"
  frameborder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
  allowfullscreen
></iframe>

<div>
  <div>
    <div class="chat">
      <div class="message"></div>
    </div>
  </div>
</div>
<div>
  <div class="btn btn-primary" (click)="sendMessage(input.value)">Wyslij</div>
  <input id="input" type="text" #input />
</div>

<h1>Zadania live</h1>
<div *ngFor="let tempHomework of liveHomeworks">
  <span>{{ tempHomework.description }}</span>
  <button
    class="btn btn-primary"
    (click)="homeworkDetails(tempHomework.liveHomeworkId)"
  >
    Zobacz
  </button>
</div>

<div *ngIf="showDetailsBoolean">
  <h1>Szczegóły</h1>
  <div>
    <p>Opis: {{ homeworksDetails.description }}</p>
    <div>
      <div *ngFor="let tempFile of homeworksDetails.files">
        <p>{{ tempFile.fileName }}</p>
        <button
          class="btn btn-primary"
          (click)="
            downloadLiveFile(tempFile.liveHomeworkFileId, tempFile.fileName)
          "
        >
          Pobierz
        </button>
      </div>
    </div>
  </div>
  <button class="btn btn-success" (click)="addAnswerBoolean()">
    Dodaj odpowiedź
  </button>
</div>

<div *ngIf="showDetailsBoolean && actualUserAnswerDetails != undefined">
  <h1>Twoja odpowiedź</h1>
  <span>Wiadomość: {{ actualUserAnswerDetails.message }}</span>
  <div *ngFor="let tempFile of actualUserAnswerDetails.files">
    <p>{{ tempFile.fileName }}</p>
    <button
      class="btn btn-primary"
      (click)="
        downloadLiveAnswerFile(
          tempFile.liveHomeworkAnswerFileId,
          tempFile.fileName
        )
      "
    >
      Pobierz
    </button>
  </div>
</div>

<div *ngIf="showAnswerForm">
  <h1>Dodaj odpowiedź</h1>
  <form [formGroup]="validateForm" (ngSubmit)="submitForm()">
    <div>
      <div>Opis</div>
      <input type="text" formControlName="message" placeholder="Wiadomość" />
    </div>

    <div>
      <div>Pliki</div>
      <div *ngFor="let tempFile of tempFiles">
        <svg
          width="1em"
          height="1em"
          viewBox="0 0 16 16"
          class="bi bi-file-earmark-fill"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0H4zm5.5 1.5v2a1 1 0 0 0 1 1h2l-3-3z"
          />
        </svg>
        {{ tempFile.fileName }}
        <button
          type="button"
          class="btn btn-sm btn-outline-secondary"
          (click)="reset(tempFile)"
        >
          <svg
            width="1em"
            height="1em"
            viewBox="0 0 16 16"
            class="bi bi-file-minus"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M4 0h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H4z"
            ></path>
            <path
              fill-rule="evenodd"
              d="M5.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"
            ></path>
          </svg>
        </button>
      </div>

      <div class="custom-file" style="width: 200px">
        <input
          #inputFile
          type="file"
          class="custom-file-input"
          id="customFile"
          (change)="onUpload($event)"
        />
        <label class="custom-file-label" for="customFile">Wybierz plik</label>
      </div>
    </div>

    <button type="submit" class="btn btn-secondary">Dodaj odpowiedź</button>
  </form>
</div>
